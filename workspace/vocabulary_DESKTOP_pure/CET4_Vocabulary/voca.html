<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•è¯èƒŒè¯µåŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
        }
        body {
            background-color: #f5f7fa;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            padding: 30px;
        }
        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .control-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #4299e1;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }
        .btn:active {
            transform: translateY(0);
        }
        .btn.reset {
            background: #ed8936;
        }
        .btn.reset:hover {
            background: #dd6b20;
        }
        .word-count {
            color: #718096;
            font-size: 15px;
        }
        .word-list {
            display: grid;
            gap: 18px;
        }
        .word-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #4299e1;
            transition: all 0.3s;
        }
        .word-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transform: translateX(5px);
        }
        .word-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .word {
            font-size: 22px;
            font-weight: bold;
            color: #2d3748;
        }
        .part-of-speech {
            padding: 4px 10px;
            background: #e8f4f8;
            color: #4299e1;
            border-radius: 20px;
            font-size: 14px;
        }
        .translation {
            font-size: 17px;
            color: #4a5568;
            margin-bottom: 15px;
            cursor: pointer;
            padding: 5px 0;
        }
        .translation.hidden {
            background: #e2e8f0;
            color: transparent;
            user-select: none;
            border-radius: 4px;
        }
        .translation.hidden:hover {
            background: #cbd5e0;
        }
        .phrases-title {
            font-size: 15px;
            color: #718096;
            margin-bottom: 8px;
        }
        .phrase-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .phrase-item {
            background: #f0f8fb;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
        }
        .phrase-eng {
            color: #2d3748;
            font-weight: 500;
        }
        .phrase-cn {
            color: #718096;
            margin-left: 6px;
        }
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }
            .word {
                font-size: 20px;
            }
            .control-bar {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“š å•è¯èƒŒè¯µåŠ©æ‰‹</h1>
        
        <div class="control-bar">
            <button class="btn" id="hideBtn">éšè—æ‰€æœ‰é‡Šä¹‰</button>
            <button class="btn" id="showBtn">æ˜¾ç¤ºæ‰€æœ‰é‡Šä¹‰</button>
            <button class="btn reset" id="shuffleBtn">éšæœºæ‰“ä¹±é¡ºåº</button>
            <span class="word-count" id="count">å…± <span>0</span> ä¸ªå•è¯</span>
        </div>

        <div class="word-list" id="wordList"></div>
    </div>

    <script>
        // åŠ è½½JSONæ–‡ä»¶
        fetch('Vocabulary.json')
            .then(response => {
                if (!response.ok) throw new Error('JSONæ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œè¯·ç¡®è®¤æ–‡ä»¶å­˜åœ¨ä¸”è·¯å¾„æ­£ç¡®');
                return response.json();
            })
            .then(words => {
                const wordList = document.getElementById('wordList');
                const countSpan = document.querySelector('#count span');
                countSpan.textContent = words.length;

                // æ¸²æŸ“å•è¯å¡ç‰‡
                function renderWords(wordArray) {
                    wordList.innerHTML = '';
                    wordArray.forEach(wordObj => {
                        const translation = wordObj.translations[0];
                        const card = document.createElement('div');
                        card.className = 'word-card';

                        // çŸ­è¯­éƒ¨åˆ†
                        let phrasesHtml = '';
                        if (wordObj.phrases && wordObj.phrases.length > 0) {
                            phrasesHtml = `
                                <div class="phrases-title">å¸¸ç”¨çŸ­è¯­ï¼š</div>
                                <div class="phrase-list">
                                    ${wordObj.phrases.map(phrase => `
                                        <div class="phrase-item">
                                            <span class="phrase-eng">${phrase.phrase}</span>
                                            <span class="phrase-cn">${phrase.translation}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            `;
                        }

                        card.innerHTML = `
                            <div class="word-header">
                                <div class="word">${wordObj.word}</div>
                                <div class="part-of-speech">${translation.type}</div>
                            </div>
                            <div class="translation">${translation.translation}</div>
                            ${phrasesHtml}
                        `;

                        // ç‚¹å‡»é‡Šä¹‰åˆ‡æ¢æ˜¾ç¤º/éšè—
                        const transEl = card.querySelector('.translation');
                        transEl.addEventListener('click', () => {
                            transEl.classList.toggle('hidden');
                        });

                        wordList.appendChild(card);
                    });
                }

                // åˆå§‹æ¸²æŸ“
                renderWords(words);

                // äº‹ä»¶ç›‘å¬
                document.getElementById('hideBtn').addEventListener('click', () => {
                    document.querySelectorAll('.translation').forEach(el => el.classList.add('hidden'));
                });

                document.getElementById('showBtn').addEventListener('click', () => {
                    document.querySelectorAll('.translation').forEach(el => el.classList.remove('hidden'));
                });

                document.getElementById('shuffleBtn').addEventListener('click', () => {
                    const shuffled = [...words].sort(() => Math.random() - 0.5);
                    renderWords(shuffled);
                });
            })
            .catch(error => {
                document.getElementById('wordList').innerHTML = `
                    <div style="text-align: center; padding: 30px; color: #e53e3e;">
                        âŒ ${error.message}
                    </div>
                `;
            });
    </script>
</body>
</html>